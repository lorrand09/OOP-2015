<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>EDK Support</title>
    <link rel="StyleSheet" href="css/HW_SW_CoDesign.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <table align="left">
      <tr>
        <td class="WebWorks_Company_Logo_Top">
          <img src="logo.gif" />
        </td>
      </tr>
    </table>
    <br clear="all" />
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="HW_SW_CoDesign.07.1.html#315093">Hardware/Software Co-Design</a> : EDK Support</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading1"><a name="315093">EDK Support</a></div>
      <div class="Body"><a name="275567">&nbsp;</a></div>
      <table class="ColumnNoTitleNoLines" style="text-align: left; width: 358.7694pt" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 1.5pt; padding-right: 1.5pt; padding-top: 3pt; vertical-align: top; width: 149.6863pt">
            <div class="CellBody"><span class="XBlueLink"><a href="javascript:WWHClickedPopup('sysgen', 'HW_SW_CoDesign.07.4.html#275569', '');" title="EDK Support" name="275550">Importing an EDK Processor</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 1.5pt; padding-right: 1.5pt; padding-top: 3pt; vertical-align: top; width: 209.0831pt">
            <div class="CellBody"><a name="275552">How to import an EDK project into System </a>Generator using the EDK Import Wizard.</div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 1.5pt; padding-right: 1.5pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><span class="XBlueLink"><a href="javascript:WWHClickedPopup('sysgen', 'HW_SW_CoDesign.07.4.html#270811', '');" title="EDK Support" name="275556">Exposing Processor Ports to System Generator</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 1.5pt; padding-right: 1.5pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="275559">How to route top-level ports in the EDK into </a>System Generator. </div>
          </td>
        </tr>
        <tr>
          <td style="padding-bottom: 2pt; padding-left: 1.5pt; padding-right: 1.5pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><span class="XBlueLink"><a href="javascript:WWHClickedPopup('sysgen', 'HW_SW_CoDesign.07.4.html#270812', '');" title="EDK Support" name="275564">Exporting a pcore</a></span></div>
          </td>
          <td style="padding-bottom: 2pt; padding-left: 1.5pt; padding-right: 1.5pt; padding-top: 3pt; vertical-align: top">
            <div class="CellBody"><a name="275566">How to export a System Generator design to the </a>EDK as a pcore. </div>
          </td>
        </tr>
      </table>
      <div class="Heading2"><a name="275569">Importing an EDK Processor</a></div>
      <div class="Body"><a name="299144">A processor created using the Xilinx Platform Studio (XPS) tool, found in the Xilinx EDK </a>suite of tools, can be imported into a System Generator model using the EDK Import Wizard. </div>
      <table class="FigureNoTitle" style="text-align: left; width: 396pt" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: top; width: 396.0pt">
            <div class="Anchor"><a name="272547"><img class="Default" src="images/HW_SW_CoDesign.07.4.1.jpg" width="320" height="295" style="display: block; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
          </td>
        </tr>
      </table>
      <div class="Body"><a name="272565">There are two ways to launch the EDK Import Wizard in the EDK Processor block: (1) press </a>the <span class="Bold">Importâ€¦</span> button, or (2) select <span class="Bold">HDL netlisting</span> when the <span class="Bold">EDK projec</span>t field is empty. </div>
      <div class="Note">
        <span class="XNote">Note:&nbsp;</span><a name="272569">When you import the EDK Project into System Generator, there are modifications made to the </a>EDK project. These modifications are described in the following topic. </div>
      <div class="Heading3"><a name="272581">EDK Import Wizard</a></div>
      <div class="Body"><a name="272584">When the Wizard starts up, it prompts you for an EDK project file (xmp file). </a></div>
      <div class="Body"><a name="272590">Clicking the </a><span class="Bold">Import...</span> button starts the import process. </div>
      <div class="Note">
        <span class="XNote">Note:&nbsp;</span><a name="279884">The import process will alter your EDK project to work inside System Generator. If you wish </a>to retain an unadulterated version, please make a copy before importing. System Generator automatically backs up the hardware platform specification (i.e., the MHS file) and the software platform specification (the MSS file) of the EDK project to files with the "bak" suffix.</div>
      <div class="Body"><a name="272594">When an EDK project is imported into System Generator, the EDK project is augmented </a>with a PLB46 interface depending on the options made on the EDK Processor block. A pcore (xlsg_plbiface) is also added to provide software drivers for the interface.The MHS and MSS files in the EDK project will be altered. Following that, the HDL files that describe the processor will be generated and linked to your System Generator project. </div>
      <div class="Heading3"><a name="272597">Making Changes to Processor Hardware After an Import</a></div>
      <div class="Body"><a name="272600">After importing an EDK project, further changes to the hardware inside of the EDK will </a>not be reflected inside of System Generator. In other words, the hardware makeup of the processor is now fixed. If changes to the processor hardware are to be made, the EDK project must be re-imported using the EDK Import Wizard. </div>
      <div class="Body"><a name="272604">It is recommended that you re-import an EDK project when it is changed. The EDK </a>Processor block can detect the PLB interfaces and the related pcores that are automatically added by System Generator during a previoius import, and will not include redundant hardware or software to the XPS project.</div>
      <div class="Heading3"><a name="272607">Limitations</a></div>
      <div class="Body"><a name="272551">Currently the Wizard can only import single processor projects. Only the MicroBlaze </a>processor is supported. Peripherals added to the processor cannot conflict with the resources used by other System Generator services. For instance, if network-based hardware co-simulation is used, the EDK project cannot make use of the peripherals using the Ethernet MAC.</div>
      <div class="Heading2"><a name="270811">Exposing Processor Ports to System Generator</a></div>
      <div class="Body"><a name="272758">The preferred mechanism for getting data to and from the processor and System Generator </a>is via shared-memories. It is however possible to expose ports on the top-level of the processor to System Generator.</div>
      <table class="FigureNoTitle" style="text-align: left; width: 396pt" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: top; width: 396.0pt">
            <div class="Anchor"><a name="272770"><img class="Default" src="images/HW_SW_CoDesign.07.4.2.jpg" width="359" height="305" style="display: block; float: none; left: 0.0; top: 0.0" alt="" /></a></div>
          </td>
        </tr>
      </table>
      <div class="Body"><a name="272790">The top-right box in the figure above shows a snippet from an EDK project in XPS. The </a>external port list has among other ports, a user-defined port called <span class="Italic">myExternalPort</span>. </div>
      <div class="Body"><a name="272794">After importing the EDK project, open up the processor's block GUI in System Generator. </a>Select the <span class="Bold">Advanced</span> tab to reveal the processor port interface table. </div>
      <div class="Body"><a name="272798">The port list shows all the top-level ports available on the processor. This port list has been </a>filtered to remove clock ports and also signals used by System Generator to implement the memory-map interface. In this example, the RS232 ports, <span class="Italic">sys_rst_pin</span> and <span class="Italic">myexternalport</span> are shown to be ports that can be exposed to the top-level of the System Generator block. Selecting the <span class="Bold">expose</span> check box will cause the port to be exposed on the EDK Processor block. As shown in the figure above, the display name of the port can be changed, should the original name be too long. </div>
      <div class="Body"><a name="272778">This mechanism allows ports from the processor to be directly exposed to the System </a>Generator design without going through the memory map generated by System Generator. You may choose to do this to expose the reset ports on the processor, or to expose interrupt ports directly to the System Generator diagram.</div>
      <div class="Heading2"><a name="270812">Exporting a pcore</a></div>
      <div class="Body"><a name="272839">System Generator designs containing an EDK Processor block can be exported as an EDK </a>pcore using the <span class="Bold">EDK Export Tool</span> compilation target on the System Generator token. </div>
      <div class="Body"><a name="272843">Before exporting to the EDK as a pcore, the EDK Processor block must be configured for </a>"EDK pcore generation". This can be done by opening the EDK Processor block GUI and selecting the relevant drop down option in the "Configure processor for" parameter. </div>
      <div class="Body"><a name="272835">Please refer to the topic </a><span class="XBlueLink"><a href="javascript:WWHClickedPopup('sysgen', 'Compilation_Types.10.5.html#279433', '');" title="EDK Export Tool">EDK Export Tool</a></span> for more information. </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>